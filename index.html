<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>סקר סיבוס</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;700&display=swap');
        
        :root {
            --primary-color: #2563eb;
            --primary-hover: #1d4ed8;
            --bg-color: #f0f4f8;
        }

        body {
            font-family: 'Heebo', sans-serif;
            background: var(--bg-color);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 700px;
            margin: 20px auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            padding: 40px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 2px solid #f0f4f8;
        }

        .title {
            color: var(--primary-color);
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 20px;
            background: linear-gradient(120deg, #2563eb, #3b82f6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .description {
            color: #64748b;
            line-height: 1.7;
            font-size: 1.1em;
            margin-bottom: 30px;
        }

        .notice {
            background: linear-gradient(to right, #f8fafc, #f1f5f9);
            border-right: 4px solid var(--primary-color);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 40px;
            color: #475569;
            font-size: 0.95em;
        }

        .form-group {
            margin-bottom: 30px;
            position: relative;
        }

        .form-label {
            display: block;
            color: #1e293b;
            font-weight: 500;
            margin-bottom: 12px;
            font-size: 1.1em;
        }

        .required::after {
            content: "*";
            color: #ef4444;
            margin-right: 4px;
        }

        .form-input {
            width: 100%;
            padding: 14px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 1.1em;
            transition: all 0.3s ease;
            background: #f8fafc;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37,99,235,0.2);
            background: white;
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            padding: 16px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #f8fafc;
        }

        .radio-option:hover {
            transform: translateY(-2px);
            border-color: #cbd5e1;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        .radio-option input[type="radio"] {
            margin-left: 16px;
            width: 20px;
            height: 20px;
            accent-color: var(--primary-color);
        }

        .radio-option.selected {
            border-color: var(--primary-color);
            background: #eff6ff;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(37,99,235,0.1);
        }

        .submit-btn {
            width: 100%;
            background: linear-gradient(to right, var(--primary-color), var(--primary-hover));
            color: white;
            padding: 16px;
            border: none;
            border-radius: 12px;
            font-size: 1.1em;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(37,99,235,0.2);
        }

        .submit-btn:active {
            transform: translateY(0);
        }

        .error-message {
            color: #ef4444;
            font-size: 0.9em;
            margin-top: 8px;
            display: none;
        }

        .thank-you-screen {
            display: none;
            text-align: center;
            padding: 40px 20px;
        }

        .thank-you-screen .check-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 30px;
            border-radius: 50%;
            background: #dcfce7;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #16a34a;
            font-size: 40px;
        }

        .thank-you-message {
            font-size: 24px;
            color: #1e293b;
            margin-bottom: 16px;
            font-weight: 600;
        }

        .thank-you-submessage {
            color: #64748b;
            font-size: 18px;
            line-height: 1.6;
        }

        @media (max-width: 640px) {
            body {
                padding: 12px;
            }
            
            .container {
                padding: 24px;
                margin: 10px;
            }

            .title {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="formContent">
            <div class="header">
                <h1 class="title">עובדים יקרים</h1>
                <p class="description">
                    כחלק מהרצון שלנו לשפר את תנאי העבודה, אנו בוחנים אפשרות להטמיע את שירות סיבוס כחלופה או במקביל למערך התלושים הקיים. נשמח שתמלאו את הטופס הקצר הבא כדי שנוכל להעריך את ההיתכנות של המהלך.
                </p>
            </div>

            <div class="notice">
                חשוב לציין: מדובר בבדיקת היתכנות בלבד. אין בסקר זה התחייבות כלשהי להטמעת השירות או לאופן הטמעתו.
            </div>

            <form id="surveyForm" action="https://docs.google.com/forms/d/e/1FAIpQLSccBSIS8OK3ifWXVfelNkXXqsXhZ9-KD6HcJ8NBNDui33cA0Q/formResponse" method="POST">
                <div class="form-group">
                    <label class="form-label required">שם מלא</label>
                    <input type="text" name="entry.279327087" class="form-input" required>
                    <div class="error-message">נא למלא שם מלא</div>
                </div>

                <div class="form-group">
                    <label class="form-label required">ימי עבודה קבועים בשבוע</label>
                    <input type="number" name="entry.970181222" class="form-input" min="1" max="7" required>
                    <div class="error-message">נא למלא מספר ימי עבודה בין 1 ל-7</div>
                </div>

                <div class="form-group">
                    <label class="form-label required">העדפה</label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="entry.2041955678" value="סיבוס" required>
                            סיבוס
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="entry.2041955678" value="המשך שימוש בתלושים (השיטה הקיימת)" required>
                            המשך שימוש בתלושים (שיטה קיימת)
                        </label>
                    </div>
                    <div class="error-message">נא לבחור אחת מהאפשרויות</div>
                </div>

                <button type="submit" class="submit-btn">שליחת הטופס</button>
            </form>
        </div>

        <div id="thankYouScreen" class="thank-you-screen">
            <div class="check-icon">✓</div>
            <div class="thank-you-message">תגובתכם נרשמה</div>
            <div class="thank-you-submessage">תודה לכם על השתתפותכם בסקר</div>
        </div>
    </div>

    <script>
        // הדגשת האפשרות הנבחרת
        document.querySelectorAll('.radio-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.radio-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                this.classList.add('selected');
            });
        });

        // ולידציה וטיפול בשגיאות
        const form = document.getElementById('surveyForm');
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            let isValid = true;
            
            // בדיקת שם מלא
            const fullName = form.querySelector('input[name="entry.279327087"]');
            if (!fullName.value.trim()) {
                showError(fullName);
                isValid = false;
            } else {
                hideError(fullName);
            }
            
            // בדיקת ימי עבודה
            const workDays = form.querySelector('input[name="entry.970181222"]');
            const workDaysValue = parseInt(workDays.value);
            if (!workDaysValue || workDaysValue < 1 || workDaysValue > 7) {
                showError(workDays);
                isValid = false;
            } else {
                hideError(workDays);
            }
            
            // בדיקת העדפה
            const preference = form.querySelector('input[name="entry.2041955678"]:checked');
            const preferenceGroup = form.querySelector('.radio-group');
            if (!preference) {
                showError(preferenceGroup);
                isValid = false;
            } else {
                hideError(preferenceGroup);
            }
            
            if (isValid) {
                // שליחת הטופס באמצעות Fetch API
                const formData = new FormData(form);
                fetch(form.action, {
                    method: 'POST',
                    body: formData,
                    mode: 'no-cors'
                })
                .then(() => {
                    // הצגת מסך התודה
                    document.getElementById('formContent').style.display = 'none';
                    document.getElementById('thankYouScreen').style.display = 'block';
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            }
        });

        function showError(element) {
            element.classList.add('error');
            const errorMessage = element.closest('.form-group').querySelector('.error-message');
            errorMessage.style.display = 'block';
        }

        function hideError(element) {
            element.classList.remove('error');
            const errorMessage = element.closest('.form-group').querySelector('.error-message');
            errorMessage.style.display = 'none';
        }

        // הסרת שגיאות בעת הקלדה/שינוי
        document.querySelectorAll('.form-input').forEach(input => {
            input.addEventListener('input', () => hideError(input));
        });

        document.querySelectorAll('input[type="radio"]').forEach(radio => {
            radio.addEventListener('change', () => {
                hideError(radio.closest('.radio-group'));
            });
        });
    </script>
</body>
</html>
